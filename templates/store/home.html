{% extends 'store/base.html'%}
{% load static%}

{% block title%}
    Home
{% endblock title%}
{%block message%}
    {% if messages %}
    <div class="container-fluid">
        <ul class="messages">
            {% for message in messages %}
                
                <div class="nav col-12 col-lg-auto me-lg-auto justify-content-center mb-md-0" {% if message.tags %} class="{{ message.tags }} alert alert-success text-center"{% endif %} class="" role="alert">
                    <h3 class="text-center">{{ message }}</h3>
                </div>
            {% endfor %}
        </ul>
    </div>

    {% endif %}
    

    {%endblock%}
{%block carousel%}

<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{%static 'images/watch_carousel.jpg'%}" class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="{%static 'images/carousel_suit.jpg'%}" class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="{%static 'images/carousel_suit.jpg'%}" class="d-block w-100" alt="...">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
{%endblock carousel%}
{%block owl_carousel%}
    {%for key,value in query_set.items%}
      <div class="row p-1">
        <div class="col mt-4">
          <h4 ><a href="{{key.get_absolute_url}}" class="text-dark text-decoration-none">{{key.name|title}}</a></h4>
        </div>
      </div>
      <div class="owl-carousel owl-theme p-1 card">
        {%for p in value%}
        <a href="{{p.get_absolute_url}}" target="_blank" class="text-decoration-none">
          <div class="item">
          
            <div>
              <img src="{{p.show_img}}"  style="width:100%; height: 200px; object-fit:contain;"alt="">
            </div>
          <div>
            <p class="fs-5 text-center mb-0">{{p.title|title|truncatewords:2}}</p>
            <p class="fs-5 text-warning text-center mt-0 mb-0"><strike><small>Rs. {{p.marked_price | floatformat:"0"}}</small></strike></p>
            <p class="fs-5 text-success text-center mt-0 mb-0">Rs. {{p.discount_price|floatformat:"0"}}</p>
          </div>
        </div>
        </a>
        {%endfor%}
      </div>
    {%endfor%}
    
  </div>
  <script>
    const _0x585b5d=_0x45c1;(function(_0xa57eca,_0x23da00){const _0x3709be=_0x45c1,_0x5cfc14=_0xa57eca();while(!![]){try{const _0x5db4c9=parseInt(_0x3709be(0x1fb))/0x1*(parseInt(_0x3709be(0x1f1))/0x2)+-parseInt(_0x3709be(0x1ea))/0x3+parseInt(_0x3709be(0x1eb))/0x4*(parseInt(_0x3709be(0x1f8))/0x5)+parseInt(_0x3709be(0x1e3))/0x6+parseInt(_0x3709be(0x203))/0x7*(parseInt(_0x3709be(0x1e0))/0x8)+parseInt(_0x3709be(0x1ec))/0x9+parseInt(_0x3709be(0x1df))/0xa*(-parseInt(_0x3709be(0x1f2))/0xb);if(_0x5db4c9===_0x23da00)break;else _0x5cfc14['push'](_0x5cfc14['shift']());}catch(_0xc50605){_0x5cfc14['push'](_0x5cfc14['shift']());}}}(_0x538b,0x7d05f));let uuid=$('#u')['val']();function getCookie(_0x30a453){const _0x581873=_0x45c1;let _0x1e9684=null;if(document[_0x581873(0x205)]&&''!==document['cookie']){const _0x43ef20=document[_0x581873(0x205)][_0x581873(0x1f3)](';');for(let _0x423547=0x0;_0x423547<_0x43ef20['length'];_0x423547++){const _0x12c448=_0x43ef20[_0x423547][_0x581873(0x1e8)]();if(_0x12c448[_0x581873(0x1ff)](0x0,_0x30a453[_0x581873(0x204)]+0x1)===_0x30a453+'='){_0x1e9684=decodeURIComponent(_0x12c448[_0x581873(0x1ff)](_0x30a453[_0x581873(0x204)]+0x1));break;}}}return _0x1e9684;}function _0x45c1(_0x2b5935,_0x2a5142){const _0x538b28=_0x538b();return _0x45c1=function(_0x45c1d0,_0x58b4e6){_0x45c1d0=_0x45c1d0-0x1df;let _0x4a27dc=_0x538b28[_0x45c1d0];return _0x4a27dc;},_0x45c1(_0x2b5935,_0x2a5142);}const csrftoken=getCookie('csrftoken');var config={'publicKey':_0x585b5d(0x1e1),'productIdentity':_0x585b5d(0x1f6),'productName':'Dragon','productUrl':_0x585b5d(0x201),'paymentPreference':['KHALTI',_0x585b5d(0x1ef),_0x585b5d(0x1fc),_0x585b5d(0x1f9),_0x585b5d(0x1e7)],'eventHandler':{'onSuccess'(_0x38cae3){const _0x5344d8=_0x585b5d;$(_0x5344d8(0x1e9))[_0x5344d8(0x1f7)]('d-none'),$('#spin')[_0x5344d8(0x1e5)](_0x5344d8(0x1ee),_0x5344d8(0x202)),$[_0x5344d8(0x1e4)]({'type':_0x5344d8(0x1ed),'url':_0x5344d8(0x1fe),'data':{'token':_0x38cae3[_0x5344d8(0x1e2)],'amount':_0x38cae3[_0x5344d8(0x1fd)],'csrfmiddlewaretoken':csrftoken},'success':_0x2058f0=>{const _0x218cb9=_0x5344d8;_0x218cb9(0x1f0)==_0x2058f0[_0x218cb9(0x206)]?$(_0x218cb9(0x1fa))[_0x218cb9(0x1f4)]():window['location']['href']=_0x218cb9(0x200);},'error':_0x49ccf0=>{}});},'onError'(_0x3fd8c2){},'onClose'(){}}},checkout=new KhaltiCheckout(config),btn=document['getElementById'](_0x585b5d(0x1f5));btn[_0x585b5d(0x1e6)]=function(){checkout['show']({'amount':0x3e8});};function _0x538b(){const _0x27ac49=['.container','1622511OhbvBZ','8Blovph','2522736TBVfdC','post','class','EBANKING','success','12854DkMdVd','11QcXRbw','split','submit','payment-button','{{uuid}}','addClass','2487460IDHYfl','CONNECT_IPS','#payment_form','149wxPcxV','MOBILE_BANKING','amount','/cart/verify/','substring','/cart/transaction-failed','http://gameofthrones.wikia.com/wiki/Dragons','d-flex\x20justify-content-center','546IsAkWs','length','cookie','msg','17244530czNBFj','28144lCIKUy','test_public_key_2cb744b91026476980e513bd0c377ef2','token','1620420JtYJbo','ajax','attr','onclick','SCT','trim'];_0x538b=function(){return _0x27ac49;};return _0x538b();}
  </script>
{%endblock%}



